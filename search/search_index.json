{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Documentation AdvancedDevSample","text":""},{"location":"#vue-densemble","title":"\ud83d\udccb Vue d'ensemble","text":"<p>AdvancedDevSample est une API RESTful d\u00e9velopp\u00e9e avec ASP.NET Core 9.0, impl\u00e9mentant une architecture en couches (Clean Architecture) pour la gestion d'un syst\u00e8me de commandes, produits, utilisateurs et fournisseurs.</p>"},{"location":"#architecture","title":"\ud83c\udfd7\ufe0f Architecture","text":"<p>Le projet suit les principes de la Clean Architecture avec une s\u00e9paration claire des responsabilit\u00e9s :</p> <ul> <li>API : Couche de pr\u00e9sentation (Controllers, Middlewares)</li> <li>Application : Couche de logique applicative (Services, DTOs)</li> <li>Domain : Couche m\u00e9tier (Entit\u00e9s, Interfaces, R\u00e8gles m\u00e9tier)</li> <li>Infrastructure : Couche d'acc\u00e8s aux donn\u00e9es (Repositories)</li> <li>Test : Tests unitaires pour toutes les couches</li> </ul>"},{"location":"#fonctionnalites-principales","title":"\ud83d\udd11 Fonctionnalit\u00e9s principales","text":""},{"location":"#authentification-jwt","title":"Authentification JWT","text":"<ul> <li>Connexion avec g\u00e9n\u00e9ration de token d'acc\u00e8s</li> <li>Refresh token pour renouvellement s\u00e9curis\u00e9</li> <li>Gestion des r\u00f4les (Student, Admin)</li> </ul>"},{"location":"#gestion-des-produits","title":"Gestion des Produits","text":"<ul> <li>CRUD complet sur le catalogue produit</li> <li>Modification de prix avec validation m\u00e9tier</li> <li>Application de r\u00e9ductions</li> <li>Activation/D\u00e9sactivation (soft delete)</li> </ul>"},{"location":"#gestion-des-commandes","title":"Gestion des Commandes","text":"<ul> <li>Cr\u00e9ation et suivi des commandes</li> <li>Machine \u00e0 \u00e9tats pour les transitions de statut</li> <li>Workflow : Pending \u2192 Confirmed \u2192 Shipped \u2192 Delivered</li> <li>Annulation avec r\u00e8gles m\u00e9tier</li> </ul>"},{"location":"#gestion-des-utilisateurs","title":"Gestion des Utilisateurs","text":"<ul> <li>CRUD complet</li> <li>Gestion des r\u00f4les</li> <li>Activation/D\u00e9sactivation des comptes</li> </ul>"},{"location":"#gestion-des-fournisseurs","title":"Gestion des Fournisseurs","text":"<ul> <li>CRUD complet</li> <li>Association avec les produits</li> <li>Validation des donn\u00e9es</li> </ul>"},{"location":"#structure-de-la-documentation","title":"\ud83d\udcda Structure de la documentation","text":""},{"location":"#architecture_1","title":"Architecture","text":"<p>D\u00e9tails sur l'architecture en couches et les principes de conception.</p>"},{"location":"#domain","title":"Domain","text":"<p>Documentation des entit\u00e9s m\u00e9tier et des r\u00e8gles de gestion.</p>"},{"location":"#application","title":"Application","text":"<p>Documentation des services applicatifs et des DTOs.</p>"},{"location":"#api","title":"API","text":"<p>Documentation des endpoints REST et des contr\u00f4leurs.</p>"},{"location":"#infrastructure","title":"Infrastructure","text":"<p>Documentation des repositories et de la persistance.</p>"},{"location":"#demarrage-rapide","title":"\ud83d\ude80 D\u00e9marrage rapide","text":""},{"location":"#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>.NET 9.0 SDK</li> <li>Visual Studio 2022 ou Rider</li> </ul>"},{"location":"#lancement","title":"Lancement","text":"<pre><code>cd AdvancedDevSample.API\ndotnet run\n</code></pre>"},{"location":"#comptes-de-demonstration","title":"Comptes de d\u00e9monstration","text":"<ul> <li>\u00c9tudiant : <code>demo</code> / <code>demo123</code></li> <li>Administrateur : <code>admin</code> / <code>admin123</code></li> </ul>"},{"location":"#swagger","title":"Swagger","text":"<p>Une fois l'application lanc\u00e9e, acc\u00e9dez \u00e0 : - https://localhost:7000/swagger</p>"},{"location":"#tests","title":"\ud83e\uddea Tests","text":"<p>Le projet contient 137 tests unitaires couvrant : - Entit\u00e9s du Domain - Services de l'Application - Contr\u00f4leurs de l'API</p> <pre><code>dotnet test\n</code></pre>"},{"location":"#qualite-du-code","title":"\ud83d\udcca Qualit\u00e9 du code","text":"<p>Le projet est int\u00e9gr\u00e9 avec SonarCloud pour l'analyse continue de la qualit\u00e9 du code : - Voir le rapport SonarCloud</p>"},{"location":"#liens-utiles","title":"\ud83d\udd17 Liens utiles","text":"<ul> <li>Repository GitHub</li> <li>SonarCloud</li> </ul>"},{"location":"getting-started/","title":"Guide de d\u00e9marrage rapide","text":""},{"location":"getting-started/#installation-et-demarrage","title":"\ud83d\ude80 Installation et d\u00e9marrage","text":""},{"location":"getting-started/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>.NET 9.0 SDK : T\u00e9l\u00e9charger ici</li> <li>IDE : Visual Studio 2022 ou JetBrains Rider</li> <li>Git : Pour cloner le repository</li> </ul>"},{"location":"getting-started/#cloner-le-projet","title":"Cloner le projet","text":"<pre><code>git clone https://github.com/Gauthier-Damien/AdvancedDevSample.git\ncd AdvancedDevSample\n</code></pre>"},{"location":"getting-started/#restaurer-les-dependances","title":"Restaurer les d\u00e9pendances","text":"<pre><code>dotnet restore\n</code></pre>"},{"location":"getting-started/#lancer-lapplication","title":"Lancer l'application","text":"<pre><code>cd AdvancedDevSample.API\ndotnet run\n</code></pre> <p>L'API sera accessible sur : https://localhost:7000</p>"},{"location":"getting-started/#acceder-a-swagger","title":"Acc\u00e9der \u00e0 Swagger","text":"<p>Une fois l'application lanc\u00e9e, ouvrez votre navigateur :</p> <pre><code>https://localhost:7000/swagger\n</code></pre>"},{"location":"getting-started/#comptes-de-demonstration","title":"\ud83d\udd10 Comptes de d\u00e9monstration","text":"<p>Deux utilisateurs sont cr\u00e9\u00e9s automatiquement au d\u00e9marrage :</p>"},{"location":"getting-started/#etudiant","title":"\u00c9tudiant","text":"<ul> <li>Username : <code>demo</code></li> <li>Password : <code>demo123</code></li> <li>R\u00f4le : Student</li> </ul>"},{"location":"getting-started/#administrateur","title":"Administrateur","text":"<ul> <li>Username : <code>admin</code></li> <li>Password : <code>admin123</code></li> <li>R\u00f4le : Admin</li> </ul>"},{"location":"getting-started/#premier-appel-api","title":"\ud83d\udcdd Premier appel API","text":""},{"location":"getting-started/#1-sauthentifier","title":"1. S'authentifier","text":"<p>Endpoint : <code>POST /api/Auth/login</code></p> <p>Request : <pre><code>{\n  \"username\": \"demo\",\n  \"password\": \"demo123\"\n}\n</code></pre></p> <p>Response : <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"refreshToken\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"expiresAt\": \"2026-02-12T15:30:00Z\",\n  \"username\": \"demo\",\n  \"role\": \"Student\"\n}\n</code></pre></p>"},{"location":"getting-started/#2-utiliser-le-token","title":"2. Utiliser le token","text":"<p>Dans Swagger : 1. Cliquez sur le bouton Authorize (cadenas) 2. Entrez : <code>Bearer {accessToken}</code> 3. Cliquez sur Authorize</p> <p>Vous pouvez maintenant appeler tous les endpoints prot\u00e9g\u00e9s.</p>"},{"location":"getting-started/#3-creer-un-produit","title":"3. Cr\u00e9er un produit","text":"<p>Endpoint : <code>POST /api/Product</code></p> <p>Request : <pre><code>{\n  \"name\": \"Laptop Dell XPS 15\",\n  \"description\": \"Laptop haute performance\",\n  \"price\": 1499.99,\n  \"vatRate\": 20\n}\n</code></pre></p> <p>Response 201 Created : <pre><code>{\n  \"id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n  \"name\": \"Laptop Dell XPS 15\",\n  \"description\": \"Laptop haute performance\",\n  \"price\": 1499.99,\n  \"vatRate\": 20,\n  \"isActive\": true\n}\n</code></pre></p>"},{"location":"getting-started/#executer-les-tests","title":"\ud83e\uddea Ex\u00e9cuter les tests","text":""},{"location":"getting-started/#tous-les-tests","title":"Tous les tests","text":"<pre><code>dotnet test\n</code></pre> <p>R\u00e9sultat attendu : <pre><code>Passed! - Failed: 0, Passed: 137, Skipped: 0, Total: 137\n</code></pre></p>"},{"location":"getting-started/#tests-avec-couverture","title":"Tests avec couverture","text":"<pre><code>dotnet test --collect:\"XPlat Code Coverage\"\n</code></pre>"},{"location":"getting-started/#tests-dun-projet-specifique","title":"Tests d'un projet sp\u00e9cifique","text":"<pre><code>cd AdvancedDevSample.Test\ndotnet test\n</code></pre>"},{"location":"getting-started/#structure-du-projet","title":"\ud83d\udcc1 Structure du projet","text":"<pre><code>AdvancedDevSample/\n\u251c\u2500\u2500 AdvancedDevSample.API/          # Couche API (Controllers)\n\u251c\u2500\u2500 AdvancedDevSample.Application/  # Couche Application (Services, DTOs)\n\u251c\u2500\u2500 AdvancedDevSample.Domain/       # Couche Domain (Entit\u00e9s, Interfaces)\n\u251c\u2500\u2500 AdvancedDevSample.Infrastructure/ # Couche Infrastructure (Repositories)\n\u251c\u2500\u2500 AdvancedDevSample.Test/         # Tests unitaires\n\u2514\u2500\u2500 docs/                           # Documentation MkDocs\n</code></pre>"},{"location":"getting-started/#configuration","title":"\ud83d\udd27 Configuration","text":""},{"location":"getting-started/#appsettingsjson","title":"appsettings.json","text":"<p>Fichier de configuration principal dans <code>AdvancedDevSample.API/appsettings.json</code> :</p> <pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft.AspNetCore\": \"Warning\"\n    }\n  },\n  \"AllowedHosts\": \"*\",\n  \"JwtSettings\": {\n    \"Secret\": \"your-super-secret-key-min-32-characters-long\",\n    \"Issuer\": \"AdvancedDevSample\",\n    \"Audience\": \"AdvancedDevSample-Users\",\n    \"ExpirationMinutes\": 60,\n    \"RefreshTokenExpirationDays\": 7\n  }\n}\n</code></pre> <p>Important : Le <code>Secret</code> doit faire au minimum 32 caract\u00e8res.</p>"},{"location":"getting-started/#appsettingsdevelopmentjson","title":"appsettings.Development.json","text":"<p>Configuration sp\u00e9cifique \u00e0 l'environnement de d\u00e9veloppement :</p> <pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Debug\",\n      \"Microsoft.AspNetCore\": \"Information\"\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/#debogage","title":"\ud83d\udc1b D\u00e9bogage","text":""},{"location":"getting-started/#dans-visual-studio","title":"Dans Visual Studio","text":"<ol> <li>Ouvrir <code>AdvancedDevSample.sln</code></li> <li>D\u00e9finir <code>AdvancedDevSample.API</code> comme projet de d\u00e9marrage</li> <li>Appuyer sur <code>F5</code> pour d\u00e9marrer en mode debug</li> </ol>"},{"location":"getting-started/#dans-rider","title":"Dans Rider","text":"<ol> <li>Ouvrir <code>AdvancedDevSample.sln</code></li> <li>S\u00e9lectionner la configuration <code>AdvancedDevSample.API</code></li> <li>Appuyer sur <code>Shift+F9</code> pour d\u00e9marrer en mode debug</li> </ol>"},{"location":"getting-started/#logs","title":"Logs","text":"<p>Les logs sont affich\u00e9s dans la console. Niveau par d\u00e9faut : <code>Information</code></p>"},{"location":"getting-started/#prochaines-etapes","title":"\ud83d\udcda Prochaines \u00e9tapes","text":"<ol> <li>Explorer la documentation compl\u00e8te : Architecture</li> <li>Comprendre le Domain : Entit\u00e9s et r\u00e8gles m\u00e9tier</li> <li>D\u00e9couvrir les Services : Application layer</li> <li>Consulter les endpoints : API REST</li> <li>Voir la persistance : Infrastructure</li> </ol>"},{"location":"getting-started/#besoin-daide","title":"\ud83c\udd98 Besoin d'aide ?","text":"<ul> <li>Documentation compl\u00e8te : Index</li> <li>Repository GitHub : GitHub</li> <li>Issues : Signaler un probl\u00e8me</li> </ul>"},{"location":"getting-started/#checklist-de-demarrage","title":"\u2705 Checklist de d\u00e9marrage","text":"<ul> <li> .NET 9.0 SDK install\u00e9</li> <li> Projet clon\u00e9</li> <li> D\u00e9pendances restaur\u00e9es (<code>dotnet restore</code>)</li> <li> Application lanc\u00e9e (<code>dotnet run</code>)</li> <li> Swagger accessible (https://localhost:7000/swagger)</li> <li> Authentification test\u00e9e avec compte demo</li> <li> Premier produit cr\u00e9\u00e9</li> <li> Tests ex\u00e9cut\u00e9s avec succ\u00e8s</li> </ul>"},{"location":"api/","title":"Couche API - Controllers et endpoints REST","text":""},{"location":"api/#vue-densemble","title":"\ud83d\udccb Vue d'ensemble","text":"<p>La couche API expose les fonctionnalit\u00e9s de l'application via des endpoints REST. Elle utilise ASP.NET Core avec documentation Swagger/OpenAPI.</p>"},{"location":"api/#responsabilites","title":"\ud83c\udfaf Responsabilit\u00e9s","text":"<ul> <li>Exposition HTTP : Endpoints RESTful pour les clients</li> <li>Validation : Validation automatique des ModelState</li> <li>Documentation : Swagger/OpenAPI avec commentaires XML</li> <li>S\u00e9curit\u00e9 : Authentification JWT Bearer</li> <li>Gestion d'erreurs : Middleware centralis\u00e9</li> </ul>"},{"location":"api/#authentification","title":"\ud83d\udd10 Authentification","text":""},{"location":"api/#configuration-jwt-bearer","title":"Configuration JWT Bearer","text":"<p>L'API utilise l'authentification JWT Bearer configur\u00e9e dans <code>Program.cs</code>.</p> <p>Configuration requise (appsettings.json) : <pre><code>{\n  \"JwtSettings\": {\n    \"Secret\": \"your-secret-key-min-32-characters\",\n    \"Issuer\": \"AdvancedDevSample\",\n    \"Audience\": \"AdvancedDevSample-Users\",\n    \"ExpirationMinutes\": 60,\n    \"RefreshTokenExpirationDays\": 7\n  }\n}\n</code></pre></p> <p>Utilisation dans Swagger : 1. Appeler <code>/api/Auth/login</code> avec credentials 2. Copier le <code>accessToken</code> de la r\u00e9ponse 3. Cliquer sur \"Authorize\" dans Swagger 4. Entrer : <code>Bearer {accessToken}</code></p>"},{"location":"api/#controllers","title":"\ud83d\udce6 Controllers","text":""},{"location":"api/#authcontroller-authentification","title":"AuthController - Authentification","text":"<p>Route de base : <code>/api/Auth</code></p> <p>Endpoints :</p>"},{"location":"api/#post-apiauthlogin","title":"<code>POST /api/Auth/login</code>","text":"<p>Authentifie un utilisateur et g\u00e9n\u00e8re un token JWT.</p> <p>Request Body : <pre><code>{\n  \"username\": \"demo\",\n  \"password\": \"demo123\"\n}\n</code></pre></p> <p>Response 200 OK : <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"refreshToken\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"expiresAt\": \"2026-02-12T15:30:00Z\",\n  \"username\": \"demo\",\n  \"role\": \"Student\"\n}\n</code></pre></p> <p>Responses : - <code>200 OK</code> : Authentification r\u00e9ussie - <code>401 Unauthorized</code> : Identifiants invalides - <code>403 Forbidden</code> : Compte d\u00e9sactiv\u00e9</p>"},{"location":"api/#post-apiauthrefresh","title":"<code>POST /api/Auth/refresh</code>","text":"<p>Rafra\u00eechit un access token expir\u00e9.</p> <p>Request Body : <pre><code>{\n  \"refreshToken\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre></p> <p>Response 200 OK : M\u00eame structure que <code>/login</code></p> <p>Responses : - <code>200 OK</code> : Token rafra\u00eechi - <code>401 Unauthorized</code> : Refresh token invalide ou expir\u00e9</p>"},{"location":"api/#productcontroller-gestion-des-produits","title":"ProductController - Gestion des produits","text":"<p>Route de base : <code>/api/Product</code> Autorisation : Requise pour toutes les op\u00e9rations (sauf GET)</p> <p>Endpoints :</p>"},{"location":"api/#get-apiproduct","title":"<code>GET /api/Product</code>","text":"<p>R\u00e9cup\u00e8re tous les produits actifs.</p> <p>Response 200 OK : <pre><code>[\n  {\n    \"id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n    \"name\": \"Laptop Dell XPS 15\",\n    \"description\": \"Laptop haute performance\",\n    \"price\": 1499.99,\n    \"vatRate\": 20,\n    \"isActive\": true\n  }\n]\n</code></pre></p> <p>Autorisation : Non requise</p>"},{"location":"api/#get-apiproductid","title":"<code>GET /api/Product/{id}</code>","text":"<p>R\u00e9cup\u00e8re un produit par son ID.</p> <p>Parameters : - <code>id</code> (path) : GUID du produit</p> <p>Responses : - <code>200 OK</code> : Produit trouv\u00e9 - <code>404 Not Found</code> : Produit inexistant</p> <p>Autorisation : Non requise</p>"},{"location":"api/#post-apiproduct","title":"<code>POST /api/Product</code>","text":"<p>Cr\u00e9e un nouveau produit.</p> <p>Request Body : <pre><code>{\n  \"name\": \"Laptop Dell XPS 15\",\n  \"description\": \"Laptop haute performance\",\n  \"price\": 1499.99,\n  \"vatRate\": 20\n}\n</code></pre></p> <p>Validation : - <code>name</code> : requis, max 200 caract\u00e8res - <code>description</code> : max 1000 caract\u00e8res - <code>price</code> : &gt; 0 - <code>vatRate</code> : entre 0 et 100</p> <p>Response 201 Created : Location header : <code>/api/Product/{id}</code></p> <p>Responses : - <code>201 Created</code> : Produit cr\u00e9\u00e9 - <code>400 Bad Request</code> : Validation \u00e9chou\u00e9e</p> <p>Autorisation : Requise (Bearer token)</p>"},{"location":"api/#put-apiproductidprice","title":"<code>PUT /api/Product/{id}/price</code>","text":"<p>Modifie le prix d'un produit.</p> <p>Request Body : <pre><code>{\n  \"price\": 1299.99\n}\n</code></pre></p> <p>Responses : - <code>200 OK</code> : Prix modifi\u00e9 - <code>400 Bad Request</code> : Prix invalide (\u2264 0) - <code>404 Not Found</code> : Produit inexistant</p> <p>Autorisation : Requise (Bearer token)</p>"},{"location":"api/#put-apiproductiddiscount","title":"<code>PUT /api/Product/{id}/discount</code>","text":"<p>Applique une r\u00e9duction en pourcentage.</p> <p>Request Body : <pre><code>{\n  \"discountPercentage\": 10\n}\n</code></pre></p> <p>Validation : - <code>discountPercentage</code> : entre 0 et 100</p> <p>Responses : - <code>200 OK</code> : R\u00e9duction appliqu\u00e9e - <code>400 Bad Request</code> : Pourcentage invalide ou prix final \u2264 0 - <code>404 Not Found</code> : Produit inexistant</p> <p>Autorisation : Requise (Bearer token)</p>"},{"location":"api/#put-apiproductidstatus","title":"<code>PUT /api/Product/{id}/status</code>","text":"<p>Active ou d\u00e9sactive un produit.</p> <p>Request Body : <pre><code>{\n  \"isActive\": false\n}\n</code></pre></p> <p>Responses : - <code>200 OK</code> : Statut modifi\u00e9 - <code>404 Not Found</code> : Produit inexistant</p> <p>Autorisation : Requise (Bearer token)</p>"},{"location":"api/#delete-apiproductid","title":"<code>DELETE /api/Product/{id}</code>","text":"<p>Suppression logique : d\u00e9sactive le produit.</p> <p>Responses : - <code>204 No Content</code> : Produit d\u00e9sactiv\u00e9 - <code>404 Not Found</code> : Produit inexistant</p> <p>Autorisation : Requise (Bearer token)</p>"},{"location":"api/#ordercontroller-gestion-des-commandes","title":"OrderController - Gestion des commandes","text":"<p>Route de base : <code>/api/Order</code> Autorisation : Requise pour toutes les op\u00e9rations</p> <p>Endpoints :</p>"},{"location":"api/#get-apiorder","title":"<code>GET /api/Order</code>","text":"<p>R\u00e9cup\u00e8re toutes les commandes.</p> <p>Response 200 OK : <pre><code>[\n  {\n    \"id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n    \"orderNumber\": \"ORD-20260212-1234-abc123\",\n    \"orderDate\": \"2026-02-12T10:30:00Z\",\n    \"customerId\": \"7fa85f64-5717-4562-b3fc-2c963f66afa6\",\n    \"totalAmountExcludingTax\": 1000.00,\n    \"totalAmountIncludingTax\": 1200.00,\n    \"status\": 1,\n    \"statusLabel\": \"Confirmed\",\n    \"deliveryAddress\": \"123 Rue de la Paix, Paris\",\n    \"notes\": \"Livraison avant 18h\"\n  }\n]\n</code></pre></p>"},{"location":"api/#get-apiordercustomercustomerid","title":"<code>GET /api/Order/customer/{customerId}</code>","text":"<p>R\u00e9cup\u00e8re les commandes d'un client.</p> <p>Parameters : - <code>customerId</code> (path) : GUID du client</p>"},{"location":"api/#get-apiorderid","title":"<code>GET /api/Order/{id}</code>","text":"<p>R\u00e9cup\u00e8re une commande par son ID.</p> <p>Responses : - <code>200 OK</code> : Commande trouv\u00e9e - <code>404 Not Found</code> : Commande inexistante</p>"},{"location":"api/#post-apiorder","title":"<code>POST /api/Order</code>","text":"<p>Cr\u00e9e une nouvelle commande (statut Pending).</p> <p>Request Body : <pre><code>{\n  \"customerId\": \"7fa85f64-5717-4562-b3fc-2c963f66afa6\",\n  \"deliveryAddress\": \"123 Rue de la Paix, 75001 Paris\",\n  \"notes\": \"Livraison avant 18h\"\n}\n</code></pre></p> <p>Validation : - <code>customerId</code> : requis, GUID valide - <code>deliveryAddress</code> : requis, max 500 caract\u00e8res - <code>notes</code> : optionnel, max 1000 caract\u00e8res</p> <p>Response 201 Created</p>"},{"location":"api/#put-apiorderidtotals","title":"<code>PUT /api/Order/{id}/totals</code>","text":"<p>Met \u00e0 jour les montants HT et TTC.</p> <p>Request Body : <pre><code>{\n  \"totalAmountExcludingTax\": 1000.00,\n  \"totalAmountIncludingTax\": 1200.00\n}\n</code></pre></p> <p>Validation : - Montant HT \u2265 0 - Montant TTC \u2265 Montant HT</p> <p>Responses : - <code>200 OK</code> : Montants mis \u00e0 jour - <code>400 Bad Request</code> : Validation \u00e9chou\u00e9e ou commande annul\u00e9e</p>"},{"location":"api/#put-apiorderidconfirm","title":"<code>PUT /api/Order/{id}/confirm</code>","text":"<p>Transition : Pending \u2192 Confirmed</p> <p>R\u00e8gles m\u00e9tier : - Statut actuel doit \u00eatre Pending - Montant total doit \u00eatre &gt; 0</p> <p>Responses : - <code>200 OK</code> : Commande confirm\u00e9e - <code>400 Bad Request</code> : Transition non autoris\u00e9e</p>"},{"location":"api/#put-apiorderidship","title":"<code>PUT /api/Order/{id}/ship</code>","text":"<p>Transition : Confirmed \u2192 Shipped</p> <p>R\u00e8gles m\u00e9tier : - Statut actuel doit \u00eatre Confirmed</p> <p>Responses : - <code>200 OK</code> : Commande exp\u00e9di\u00e9e - <code>400 Bad Request</code> : Transition non autoris\u00e9e</p>"},{"location":"api/#put-apiorderiddeliver","title":"<code>PUT /api/Order/{id}/deliver</code>","text":"<p>Transition : Shipped \u2192 Delivered</p> <p>R\u00e8gles m\u00e9tier : - Statut actuel doit \u00eatre Shipped</p> <p>Responses : - <code>200 OK</code> : Commande livr\u00e9e - <code>400 Bad Request</code> : Transition non autoris\u00e9e</p>"},{"location":"api/#put-apiorderidcancel","title":"<code>PUT /api/Order/{id}/cancel</code>","text":"<p>Annule une commande.</p> <p>R\u00e8gles m\u00e9tier : - Impossible si commande exp\u00e9di\u00e9e ou livr\u00e9e</p> <p>Responses : - <code>200 OK</code> : Commande annul\u00e9e - <code>400 Bad Request</code> : Annulation non autoris\u00e9e</p>"},{"location":"api/#usercontroller-gestion-des-utilisateurs","title":"UserController - Gestion des utilisateurs","text":"<p>Route de base : <code>/api/User</code> Autorisation : Requise pour toutes les op\u00e9rations</p> <p>Endpoints :</p>"},{"location":"api/#get-apiuser","title":"<code>GET /api/User</code>","text":"<p>R\u00e9cup\u00e8re tous les utilisateurs actifs.</p>"},{"location":"api/#get-apiuserid","title":"<code>GET /api/User/{id}</code>","text":"<p>R\u00e9cup\u00e8re un utilisateur par son ID.</p>"},{"location":"api/#post-apiuser","title":"<code>POST /api/User</code>","text":"<p>Cr\u00e9e un nouvel utilisateur.</p> <p>Request Body : <pre><code>{\n  \"username\": \"jdoe\",\n  \"email\": \"john.doe@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"role\": \"Student\"\n}\n</code></pre></p> <p>Validation : - <code>username</code> : requis, max 50 caract\u00e8res - <code>email</code> : requis, format email valide - <code>firstName</code> : requis, max 100 caract\u00e8res - <code>lastName</code> : requis, max 100 caract\u00e8res - <code>role</code> : optionnel (par d\u00e9faut \"User\")</p>"},{"location":"api/#put-apiuserid","title":"<code>PUT /api/User/{id}</code>","text":"<p>Met \u00e0 jour un utilisateur.</p>"},{"location":"api/#delete-apiuserid","title":"<code>DELETE /api/User/{id}</code>","text":"<p>Suppression logique : d\u00e9sactive l'utilisateur.</p>"},{"location":"api/#suppliercontroller-gestion-des-fournisseurs","title":"SupplierController - Gestion des fournisseurs","text":"<p>Route de base : <code>/api/Supplier</code> Autorisation : Requise pour toutes les op\u00e9rations</p> <p>Endpoints :</p>"},{"location":"api/#get-apisupplier","title":"<code>GET /api/Supplier</code>","text":"<p>R\u00e9cup\u00e8re tous les fournisseurs actifs.</p>"},{"location":"api/#get-apisupplierid","title":"<code>GET /api/Supplier/{id}</code>","text":"<p>R\u00e9cup\u00e8re un fournisseur par son ID.</p>"},{"location":"api/#post-apisupplier","title":"<code>POST /api/Supplier</code>","text":"<p>Cr\u00e9e un nouveau fournisseur.</p> <p>Request Body : <pre><code>{\n  \"name\": \"Tech Supplier Inc.\",\n  \"email\": \"contact@techsupplier.com\",\n  \"phoneNumber\": \"+33123456789\",\n  \"address\": \"123 Tech Street, Paris\"\n}\n</code></pre></p> <p>Validation : - <code>name</code> : requis, max 200 caract\u00e8res - <code>email</code> : requis, format email - <code>phoneNumber</code> : optionnel, max 20 caract\u00e8res - <code>address</code> : optionnel, max 500 caract\u00e8res</p>"},{"location":"api/#put-apisupplierid","title":"<code>PUT /api/Supplier/{id}</code>","text":"<p>Met \u00e0 jour un fournisseur.</p>"},{"location":"api/#delete-apisupplierid","title":"<code>DELETE /api/Supplier/{id}</code>","text":"<p>Suppression logique : d\u00e9sactive le fournisseur.</p>"},{"location":"api/#middleware","title":"\ud83d\udee1\ufe0f Middleware","text":""},{"location":"api/#exceptionhandlingmiddleware","title":"ExceptionHandlingMiddleware","text":"<p>Middleware centralis\u00e9 pour la gestion des erreurs.</p> <p>Emplacement : <code>Middlewares/ExceptionHandlingMiddleware.cs</code></p> <p>Fonctionnement : 1. Intercepte toutes les exceptions non g\u00e9r\u00e9es 2. Log l'erreur 3. Retourne une r\u00e9ponse JSON standardis\u00e9e</p> <p>Format de r\u00e9ponse d'erreur : <pre><code>{\n  \"message\": \"Description de l'erreur\",\n  \"statusCode\": 400\n}\n</code></pre></p> <p>Mapping des exceptions : - <code>DomainException</code> \u2192 400 Bad Request - <code>ApplicationServiceException</code> \u2192 Code HTTP d\u00e9fini dans l'exception - <code>Exception</code> (non g\u00e9r\u00e9e) \u2192 500 Internal Server Error</p> <p>Enregistrement dans Program.cs : <pre><code>app.UseMiddleware&lt;ExceptionHandlingMiddleware&gt;();\n</code></pre></p>"},{"location":"api/#documentation-swagger","title":"\ud83d\udcda Documentation Swagger","text":""},{"location":"api/#configuration","title":"Configuration","text":"<p>Titre : AdvancedDevSample API Version : v1 URL locale : https://localhost:7000/swagger</p>"},{"location":"api/#commentaires-xml","title":"Commentaires XML","text":"<p>Les commentaires XML sont activ\u00e9s pour enrichir la documentation Swagger.</p> <p>Configuration (csproj) : <pre><code>&lt;PropertyGroup&gt;\n  &lt;GenerateDocumentationFile&gt;true&lt;/GenerateDocumentationFile&gt;\n  &lt;NoWarn&gt;$(NoWarn);1591&lt;/NoWarn&gt;\n&lt;/PropertyGroup&gt;\n</code></pre></p> <p>Exemple de commentaire : <pre><code>/// &lt;summary&gt;\n/// Cr\u00e9e un nouveau produit dans le catalogue\n/// &lt;/summary&gt;\n/// &lt;param name=\"request\"&gt;Donn\u00e9es du produit \u00e0 cr\u00e9er&lt;/param&gt;\n/// &lt;returns&gt;Produit cr\u00e9\u00e9&lt;/returns&gt;\n/// &lt;response code=\"201\"&gt;Produit cr\u00e9\u00e9 avec succ\u00e8s&lt;/response&gt;\n/// &lt;response code=\"400\"&gt;Donn\u00e9es invalides&lt;/response&gt;\n[HttpPost]\n[ProducesResponseType(typeof(ProductResponse), StatusCodes.Status201Created)]\n[ProducesResponseType(StatusCodes.Status400BadRequest)]\npublic IActionResult CreateProduct([FromBody] CreateProductRequest request)\n{\n    // ...\n}\n</code></pre></p>"},{"location":"api/#securite-dans-swagger","title":"S\u00e9curit\u00e9 dans Swagger","text":"<p>Configuration de l'authentification Bearer dans Swagger :</p> <pre><code>builder.Services.AddSwaggerGen(c =&gt;\n{\n    c.AddSecurityDefinition(\"Bearer\", new OpenApiSecurityScheme\n    {\n        Description = \"JWT Authorization header using the Bearer scheme.\",\n        Name = \"Authorization\",\n        In = ParameterLocation.Header,\n        Type = SecuritySchemeType.ApiKey,\n        Scheme = \"Bearer\"\n    });\n});\n</code></pre>"},{"location":"api/#tests-dintegration","title":"\ud83e\uddea Tests d'int\u00e9gration","text":"<p>Les controllers sont test\u00e9s via des tests d'int\u00e9gration (\u00e0 venir).</p> <p>Exemple avec fichier .http : <pre><code>### Login\nPOST https://localhost:7000/api/Auth/login\nContent-Type: application/json\n\n{\n  \"username\": \"demo\",\n  \"password\": \"demo123\"\n}\n\n### Get Products\nGET https://localhost:7000/api/Product\nAuthorization: Bearer {{accessToken}}\n</code></pre></p>"},{"location":"api/#bonnes-pratiques-appliquees","title":"\ud83c\udfaf Bonnes pratiques appliqu\u00e9es","text":""},{"location":"api/#1-versioning-dapi","title":"1. Versioning d'API","text":"<p>Routes pr\u00e9fix\u00e9es par <code>/api/</code> pour faciliter le versioning futur.</p>"},{"location":"api/#2-restful","title":"2. RESTful","text":"<ul> <li>GET : Lecture</li> <li>POST : Cr\u00e9ation</li> <li>PUT : Modification</li> <li>DELETE : Suppression</li> </ul>"},{"location":"api/#3-codes-http-appropries","title":"3. Codes HTTP appropri\u00e9s","text":"<ul> <li>200 OK : Succ\u00e8s</li> <li>201 Created : Ressource cr\u00e9\u00e9e</li> <li>204 No Content : Suppression r\u00e9ussie</li> <li>400 Bad Request : Validation \u00e9chou\u00e9e</li> <li>401 Unauthorized : Non authentifi\u00e9</li> <li>403 Forbidden : Non autoris\u00e9</li> <li>404 Not Found : Ressource inexistante</li> </ul>"},{"location":"api/#4-validation-automatique","title":"4. Validation automatique","text":"<p>ModelState valid\u00e9 automatiquement par ASP.NET Core.</p>"},{"location":"api/#5-documentation-complete","title":"5. Documentation compl\u00e8te","text":"<p>Tous les endpoints document\u00e9s avec commentaires XML.</p>"},{"location":"application/","title":"Couche Application - Services et DTOs","text":""},{"location":"application/#vue-densemble","title":"\ud83d\udccb Vue d'ensemble","text":"<p>La couche Application orchestre les cas d'usage de l'application. Elle coordonne les entit\u00e9s du Domain et transforme les donn\u00e9es entre les DTOs et les entit\u00e9s m\u00e9tier.</p>"},{"location":"application/#responsabilites","title":"\ud83c\udfaf Responsabilit\u00e9s","text":"<ul> <li>Orchestration : Coordonne les appels aux entit\u00e9s et repositories</li> <li>Transformation : Convertit DTO \u2194 Entit\u00e9 Domain</li> <li>Validation : Valide les donn\u00e9es d'entr\u00e9e (Data Annotations)</li> <li>Gestion d'erreurs : Capture et transforme les exceptions Domain</li> </ul>"},{"location":"application/#services","title":"\ud83d\udce6 Services","text":""},{"location":"application/#productservice-gestion-du-catalogue-produit","title":"ProductService - Gestion du catalogue produit","text":"<p>Responsabilit\u00e9 : Orchestration des op\u00e9rations CRUD sur les produits.</p> <p>M\u00e9thodes principales :</p>"},{"location":"application/#getallproducts-ienumerableproductresponse","title":"<code>GetAllProducts() : IEnumerable&lt;ProductResponse&gt;</code>","text":"<p>R\u00e9cup\u00e8re tous les produits actifs du catalogue.</p>"},{"location":"application/#getproductbyidguid-id-productresponse","title":"<code>GetProductById(Guid id) : ProductResponse</code>","text":"<p>R\u00e9cup\u00e8re un produit par son identifiant.</p> <p>Exceptions : - <code>ApplicationServiceException</code> (404) si le produit n'existe pas</p>"},{"location":"application/#createproductcreateproductrequest-productresponse","title":"<code>CreateProduct(CreateProductRequest) : ProductResponse</code>","text":"<p>Cr\u00e9e un nouveau produit dans le catalogue.</p> <p>Validation DTO : - Name : requis, max 200 caract\u00e8res - Description : max 1000 caract\u00e8res - Price : &gt; 0 - VATRate : entre 0 et 100</p>"},{"location":"application/#changeproductpriceguid-id-decimal-newprice-productresponse","title":"<code>ChangeProductPrice(Guid id, decimal newPrice) : ProductResponse</code>","text":"<p>Modifie le prix d'un produit existant.</p> <p>R\u00e8gles m\u00e9tier appliqu\u00e9es : - Le nouveau prix doit \u00eatre &gt; 0 (valid\u00e9 par le Domain)</p>"},{"location":"application/#applydiscountguid-id-decimal-percentage-productresponse","title":"<code>ApplyDiscount(Guid id, decimal percentage) : ProductResponse</code>","text":"<p>Applique une r\u00e9duction en pourcentage sur le prix.</p> <p>R\u00e8gles m\u00e9tier appliqu\u00e9es : - Le pourcentage doit \u00eatre entre 0 et 100 - Le prix final doit rester &gt; 0</p>"},{"location":"application/#toggleproductstatusguid-id-bool-isactive-productresponse","title":"<code>ToggleProductStatus(Guid id, bool isActive) : ProductResponse</code>","text":"<p>Active ou d\u00e9sactive un produit.</p>"},{"location":"application/#deleteproductguid-id-void","title":"<code>DeleteProduct(Guid id) : void</code>","text":"<p>Suppression logique (soft delete) : d\u00e9sactive le produit au lieu de le supprimer.</p>"},{"location":"application/#orderservice-gestion-des-commandes","title":"OrderService - Gestion des commandes","text":"<p>Responsabilit\u00e9 : Orchestration du cycle de vie des commandes avec machine \u00e0 \u00e9tats.</p> <p>M\u00e9thodes principales :</p>"},{"location":"application/#getallorders-ienumerableorderresponse","title":"<code>GetAllOrders() : IEnumerable&lt;OrderResponse&gt;</code>","text":"<p>R\u00e9cup\u00e8re toutes les commandes.</p>"},{"location":"application/#getordersbycustomerguid-customerid-ienumerableorderresponse","title":"<code>GetOrdersByCustomer(Guid customerId) : IEnumerable&lt;OrderResponse&gt;</code>","text":"<p>R\u00e9cup\u00e8re les commandes d'un client sp\u00e9cifique.</p>"},{"location":"application/#getorderbyidguid-id-orderresponse","title":"<code>GetOrderById(Guid id) : OrderResponse</code>","text":"<p>R\u00e9cup\u00e8re une commande par son identifiant.</p>"},{"location":"application/#createordercreateorderrequest-orderresponse","title":"<code>CreateOrder(CreateOrderRequest) : OrderResponse</code>","text":"<p>Cr\u00e9e une nouvelle commande avec le statut \"Pending\".</p> <p>Validation DTO : - CustomerId : requis - DeliveryAddress : requis, max 500 caract\u00e8res - Notes : optionnel, max 1000 caract\u00e8res</p>"},{"location":"application/#updateordertotalsguid-id-updateordertotalsrequest-orderresponse","title":"<code>UpdateOrderTotals(Guid id, UpdateOrderTotalsRequest) : OrderResponse</code>","text":"<p>Met \u00e0 jour les montants HT et TTC de la commande.</p> <p>R\u00e8gles m\u00e9tier appliqu\u00e9es : - Montant HT \u2265 0 - Montant TTC \u2265 Montant HT - Impossible si la commande est annul\u00e9e</p>"},{"location":"application/#confirmorderguid-id-orderresponse","title":"<code>ConfirmOrder(Guid id) : OrderResponse</code>","text":"<p>Transition : Pending \u2192 Confirmed</p> <p>R\u00e8gles m\u00e9tier appliqu\u00e9es : - Le statut actuel doit \u00eatre \"Pending\" - Le montant doit \u00eatre &gt; 0</p>"},{"location":"application/#shiporderguid-id-orderresponse","title":"<code>ShipOrder(Guid id) : OrderResponse</code>","text":"<p>Transition : Confirmed \u2192 Shipped</p> <p>R\u00e8gles m\u00e9tier appliqu\u00e9es : - Le statut actuel doit \u00eatre \"Confirmed\"</p>"},{"location":"application/#deliverorderguid-id-orderresponse","title":"<code>DeliverOrder(Guid id) : OrderResponse</code>","text":"<p>Transition : Shipped \u2192 Delivered</p> <p>R\u00e8gles m\u00e9tier appliqu\u00e9es : - Le statut actuel doit \u00eatre \"Shipped\"</p>"},{"location":"application/#cancelorderguid-id-orderresponse","title":"<code>CancelOrder(Guid id) : OrderResponse</code>","text":"<p>Transition : Pending/Confirmed \u2192 Cancelled</p> <p>R\u00e8gles m\u00e9tier appliqu\u00e9es : - Impossible si la commande est exp\u00e9di\u00e9e ou livr\u00e9e</p>"},{"location":"application/#userservice-gestion-des-utilisateurs","title":"UserService - Gestion des utilisateurs","text":"<p>Responsabilit\u00e9 : CRUD complet sur les utilisateurs du syst\u00e8me.</p> <p>M\u00e9thodes principales :</p>"},{"location":"application/#getallusers-ienumerableuserresponse","title":"<code>GetAllUsers() : IEnumerable&lt;UserResponse&gt;</code>","text":"<p>R\u00e9cup\u00e8re tous les utilisateurs actifs.</p>"},{"location":"application/#getuserbyidguid-id-userresponse","title":"<code>GetUserById(Guid id) : UserResponse</code>","text":"<p>R\u00e9cup\u00e8re un utilisateur par son identifiant.</p>"},{"location":"application/#createusercreateuserrequest-userresponse","title":"<code>CreateUser(CreateUserRequest) : UserResponse</code>","text":"<p>Cr\u00e9e un nouvel utilisateur.</p> <p>Validation DTO : - Username : requis, max 50 caract\u00e8res - Email : requis, format email - FirstName : requis, max 100 caract\u00e8res - LastName : requis, max 100 caract\u00e8res - Role : optionnel (par d\u00e9faut \"User\")</p>"},{"location":"application/#updateuserguid-id-updateuserrequest-userresponse","title":"<code>UpdateUser(Guid id, UpdateUserRequest) : UserResponse</code>","text":"<p>Met \u00e0 jour les informations d'un utilisateur.</p>"},{"location":"application/#deleteuserguid-id-void","title":"<code>DeleteUser(Guid id) : void</code>","text":"<p>Suppression logique : d\u00e9sactive l'utilisateur.</p>"},{"location":"application/#supplierservice-gestion-des-fournisseurs","title":"SupplierService - Gestion des fournisseurs","text":"<p>Responsabilit\u00e9 : CRUD complet sur les fournisseurs.</p> <p>M\u00e9thodes principales :</p>"},{"location":"application/#getallsuppliers-ienumerablesupplierresponse","title":"<code>GetAllSuppliers() : IEnumerable&lt;SupplierResponse&gt;</code>","text":"<p>R\u00e9cup\u00e8re tous les fournisseurs actifs.</p>"},{"location":"application/#getsupplierbyidguid-id-supplierresponse","title":"<code>GetSupplierById(Guid id) : SupplierResponse</code>","text":"<p>R\u00e9cup\u00e8re un fournisseur par son identifiant.</p>"},{"location":"application/#createsuppliercreatesupplierrequest-supplierresponse","title":"<code>CreateSupplier(CreateSupplierRequest) : SupplierResponse</code>","text":"<p>Cr\u00e9e un nouveau fournisseur.</p> <p>Validation DTO : - Name : requis, max 200 caract\u00e8res - Email : requis, format email - PhoneNumber : optionnel, max 20 caract\u00e8res - Address : optionnel, max 500 caract\u00e8res</p>"},{"location":"application/#updatesupplierguid-id-updatesupplierrequest-supplierresponse","title":"<code>UpdateSupplier(Guid id, UpdateSupplierRequest) : SupplierResponse</code>","text":"<p>Met \u00e0 jour les informations d'un fournisseur.</p>"},{"location":"application/#deletesupplierguid-id-void","title":"<code>DeleteSupplier(Guid id) : void</code>","text":"<p>Suppression logique : d\u00e9sactive le fournisseur.</p>"},{"location":"application/#authservice-authentification-jwt","title":"AuthService - Authentification JWT","text":"<p>Responsabilit\u00e9 : Gestion de l'authentification et des tokens JWT.</p> <p>M\u00e9thodes principales :</p>"},{"location":"application/#loginloginrequest-loginresponse","title":"<code>Login(LoginRequest) : LoginResponse</code>","text":"<p>Authentifie un utilisateur et g\u00e9n\u00e8re un token d'acc\u00e8s JWT.</p> <p>Processus : 1. R\u00e9cup\u00e8re l'utilisateur par username 2. V\u00e9rifie le mot de passe avec BCrypt 3. V\u00e9rifie que le compte est actif 4. G\u00e9n\u00e8re un access token (JWT) et un refresh token 5. Sauvegarde le refresh token en base 6. Retourne les tokens et les informations utilisateur</p> <p>Validation DTO : - Username : requis - Password : requis</p> <p>Exceptions : - <code>ApplicationServiceException</code> (401) si les identifiants sont invalides - <code>ApplicationServiceException</code> (403) si le compte est d\u00e9sactiv\u00e9</p> <p>Claims JWT g\u00e9n\u00e9r\u00e9s : - <code>NameIdentifier</code> : Id de l'utilisateur - <code>Name</code> : Username - <code>Email</code> : Email de l'utilisateur - <code>Role</code> : R\u00f4le (Student, Admin, User) - <code>FullName</code> : Pr\u00e9nom + Nom</p>"},{"location":"application/#refreshtokenrefreshtokenrequest-loginresponse","title":"<code>RefreshToken(RefreshTokenRequest) : LoginResponse</code>","text":"<p>Rafra\u00eechit un access token expir\u00e9 avec un refresh token valide.</p> <p>Processus : 1. R\u00e9cup\u00e8re le refresh token 2. V\u00e9rifie qu'il est valide (non expir\u00e9, non r\u00e9voqu\u00e9) 3. R\u00e9cup\u00e8re l'utilisateur associ\u00e9 4. R\u00e9voque l'ancien refresh token 5. G\u00e9n\u00e8re de nouveaux tokens 6. Retourne les nouveaux tokens</p> <p>Validation DTO : - RefreshToken : requis</p> <p>Exceptions : - <code>ApplicationServiceException</code> (401) si le refresh token est invalide ou expir\u00e9</p> <p>Configuration JWT : - Secret : D\u00e9fini dans appsettings.json - Issuer : AdvancedDevSample - Audience : AdvancedDevSample-Users - Expiration access token : 60 minutes (configurable) - Expiration refresh token : 7 jours (configurable)</p>"},{"location":"application/#dtos-data-transfer-objects","title":"\ud83d\udccb DTOs (Data Transfer Objects)","text":""},{"location":"application/#principes","title":"Principes","text":"<ul> <li>S\u00e9paration Request/Response</li> <li>Validation avec Data Annotations</li> <li>Propri\u00e9t\u00e9s publiques pour binding</li> </ul>"},{"location":"application/#structure","title":"Structure","text":"<pre><code>DTOs/\n\u251c\u2500\u2500 Auth/\n\u2502   \u251c\u2500\u2500 LoginRequest.cs\n\u2502   \u251c\u2500\u2500 LoginResponse.cs\n\u2502   \u2514\u2500\u2500 RefreshTokenRequest.cs\n\u251c\u2500\u2500 Products/\n\u2502   \u251c\u2500\u2500 CreateProductRequest.cs\n\u2502   \u251c\u2500\u2500 ProductResponse.cs\n\u2502   \u251c\u2500\u2500 ChangePriceRequest.cs\n\u2502   \u251c\u2500\u2500 ApplyDiscountRequest.cs\n\u2502   \u2514\u2500\u2500 ToggleProductStatusRequest.cs\n\u251c\u2500\u2500 Orders/\n\u2502   \u251c\u2500\u2500 CreateOrderRequest.cs\n\u2502   \u251c\u2500\u2500 OrderResponse.cs\n\u2502   \u2514\u2500\u2500 UpdateOrderTotalsRequest.cs\n\u251c\u2500\u2500 Users/\n\u2502   \u251c\u2500\u2500 CreateUserRequest.cs\n\u2502   \u251c\u2500\u2500 UpdateUserRequest.cs\n\u2502   \u2514\u2500\u2500 UserResponse.cs\n\u2514\u2500\u2500 Suppliers/\n    \u251c\u2500\u2500 CreateSupplierRequest.cs\n    \u251c\u2500\u2500 UpdateSupplierRequest.cs\n    \u2514\u2500\u2500 SupplierResponse.cs\n</code></pre>"},{"location":"application/#exemples-de-validation","title":"Exemples de validation","text":""},{"location":"application/#createproductrequest","title":"CreateProductRequest","text":"<pre><code>public class CreateProductRequest\n{\n    [Required(ErrorMessage = \"Le nom est obligatoire\")]\n    [MaxLength(200)]\n    public string Name { get; set; }\n\n    [MaxLength(1000)]\n    public string Description { get; set; }\n\n    [Required]\n    [Range(0.01, double.MaxValue, ErrorMessage = \"Le prix doit \u00eatre sup\u00e9rieur \u00e0 0\")]\n    public decimal Price { get; set; }\n\n    [Required]\n    [Range(0, 100, ErrorMessage = \"Le taux de TVA doit \u00eatre entre 0 et 100\")]\n    public decimal VATRate { get; set; }\n}\n</code></pre>"},{"location":"application/#loginrequest","title":"LoginRequest","text":"<pre><code>public class LoginRequest\n{\n    [Required(ErrorMessage = \"Le nom d'utilisateur est obligatoire\")]\n    public string Username { get; set; }\n\n    [Required(ErrorMessage = \"Le mot de passe est obligatoire\")]\n    public string Password { get; set; }\n}\n</code></pre>"},{"location":"application/#orderresponse","title":"OrderResponse","text":"<pre><code>public class OrderResponse\n{\n    public Guid Id { get; set; }\n    public string OrderNumber { get; set; }\n    public DateTime OrderDate { get; set; }\n    public Guid CustomerId { get; set; }\n    public decimal TotalAmountExcludingTax { get; set; }\n    public decimal TotalAmountIncludingTax { get; set; }\n    public OrderStatus Status { get; set; }\n    public string StatusLabel { get; set; } // ToString() du Status\n    public string DeliveryAddress { get; set; }\n    public string Notes { get; set; }\n}\n</code></pre>"},{"location":"application/#gestion-des-erreurs","title":"\u26a0\ufe0f Gestion des erreurs","text":""},{"location":"application/#applicationserviceexception","title":"ApplicationServiceException","text":"<p>Exception lev\u00e9e par la couche Application pour les erreurs applicatives.</p> <pre><code>public class ApplicationServiceException : Exception\n{\n    public HttpStatusCode StatusCode { get; }\n\n    public ApplicationServiceException(string message, HttpStatusCode statusCode)\n        : base(message)\n    {\n        StatusCode = statusCode;\n    }\n}\n</code></pre> <p>Codes HTTP utilis\u00e9s : - <code>404 Not Found</code> : Ressource non trouv\u00e9e - <code>401 Unauthorized</code> : Authentification \u00e9chou\u00e9e - <code>403 Forbidden</code> : Compte d\u00e9sactiv\u00e9 - <code>400 Bad Request</code> : Donn\u00e9es invalides (via ModelState)</p>"},{"location":"application/#conversion-des-exceptions-domain","title":"Conversion des exceptions Domain","text":"<p>Les services capturent les <code>DomainException</code> et les convertissent en <code>ApplicationServiceException</code> avec le code HTTP appropri\u00e9.</p> <pre><code>try\n{\n    product.UpdatePrice(newPrice);\n}\ncatch (DomainException ex)\n{\n    throw new ApplicationServiceException(ex.Message, HttpStatusCode.BadRequest);\n}\n</code></pre>"},{"location":"application/#tests","title":"\ud83e\uddea Tests","text":"<p>Tous les services sont couverts par des tests unitaires avec des repositories fake (in-memory).</p> <p>Exemples de tests : - <code>ProductServiceTests.cs</code> : 15+ tests - <code>OrderServiceTests.cs</code> : 20+ tests - <code>UserServiceTests.cs</code> : 10+ tests - <code>SupplierServiceTests.cs</code> : 10+ tests</p> <p>Pattern de test : <pre><code>[Fact]\npublic void CreateProduct_Should_Create_And_Return_Product()\n{\n    // Arrange\n    var request = new CreateProductRequest\n    {\n        Name = \"Test Product\",\n        Price = 99.99m,\n        VATRate = 20\n    };\n\n    // Act\n    var result = _productService.CreateProduct(request);\n\n    // Assert\n    Assert.NotNull(result);\n    Assert.Equal(\"Test Product\", result.Name);\n    Assert.Equal(99.99m, result.Price);\n}\n</code></pre></p>"},{"location":"application/#bonnes-pratiques-appliquees","title":"\ud83c\udfaf Bonnes pratiques appliqu\u00e9es","text":""},{"location":"application/#1-separation-requestresponse","title":"1. S\u00e9paration Request/Response","text":"<p>Pas de r\u00e9utilisation des DTOs entre requ\u00eates et r\u00e9ponses.</p>"},{"location":"application/#2-validation-declarative","title":"2. Validation d\u00e9clarative","text":"<p>Utilisation de Data Annotations pour la validation.</p>"},{"location":"application/#3-mapping-explicite","title":"3. Mapping explicite","text":"<p>M\u00e9thodes priv\u00e9es <code>MapToResponse()</code> pour la conversion.</p>"},{"location":"application/#4-gestion-derreurs-coherente","title":"4. Gestion d'erreurs coh\u00e9rente","text":"<p>Toutes les erreurs passent par <code>ApplicationServiceException</code>.</p>"},{"location":"application/#5-injection-de-dependances","title":"5. Injection de d\u00e9pendances","text":"<p>Les repositories sont inject\u00e9s via le constructeur.</p>"},{"location":"architecture/","title":"Architecture du projet","text":""},{"location":"architecture/#vue-densemble","title":"\ud83c\udfd7\ufe0f Vue d'ensemble","text":"<p>Le projet AdvancedDevSample impl\u00e9mente une Clean Architecture (Architecture Hexagonale) avec une s\u00e9paration stricte des responsabilit\u00e9s en 4 couches principales.</p>"},{"location":"architecture/#diagramme-des-couches","title":"\ud83d\udcca Diagramme des couches","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           API (Pr\u00e9sentation)            \u2502\n\u2502  - Controllers                          \u2502\n\u2502  - Middlewares                          \u2502\n\u2502  - Configuration                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Application (Services)           \u2502\n\u2502  - Services m\u00e9tier                      \u2502\n\u2502  - DTOs                                 \u2502\n\u2502  - Orchestration                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Domain (M\u00e9tier)                \u2502\n\u2502  - Entit\u00e9s                              \u2502\n\u2502  - R\u00e8gles m\u00e9tier                        \u2502\n\u2502  - Interfaces                           \u2502\n\u2502  - Value Objects                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Infrastructure (Persistance)       \u2502\n\u2502  - Repositories                         \u2502\n\u2502  - Impl\u00e9mentation persistance           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#principes-appliques","title":"\ud83c\udfaf Principes appliqu\u00e9s","text":""},{"location":"architecture/#1-separation-of-concerns","title":"1. Separation of Concerns","text":"<p>Chaque couche a une responsabilit\u00e9 unique et bien d\u00e9finie.</p>"},{"location":"architecture/#2-dependency-inversion","title":"2. Dependency Inversion","text":"<ul> <li>Les couches internes (Domain) ne d\u00e9pendent jamais des couches externes</li> <li>Les d\u00e9pendances pointent toujours vers l'int\u00e9rieur</li> <li>Utilisation d'interfaces pour l'inversion de d\u00e9pendances</li> </ul>"},{"location":"architecture/#3-single-responsibility-principle","title":"3. Single Responsibility Principle","text":"<ul> <li>Une classe = une responsabilit\u00e9</li> <li>Entit\u00e9s m\u00e9tier s\u00e9par\u00e9es des DTOs</li> <li>Services s\u00e9par\u00e9s par domaine fonctionnel</li> </ul>"},{"location":"architecture/#description-des-couches","title":"\ud83d\udce6 Description des couches","text":""},{"location":"architecture/#api-advanceddevsampleapi","title":"API (AdvancedDevSample.API)","text":"<p>Responsabilit\u00e9s : - Point d'entr\u00e9e HTTP de l'application - Gestion des requ\u00eates et r\u00e9ponses - Configuration de l'injection de d\u00e9pendances - Middlewares de gestion d'erreurs - Documentation Swagger/OpenAPI</p> <p>Composants : - <code>Controllers/</code> : Endpoints REST - <code>Middlewares/</code> : ExceptionHandlingMiddleware - <code>Program.cs</code> : Configuration et pipeline</p>"},{"location":"architecture/#application-advanceddevsampleapplication","title":"Application (AdvancedDevSample.Application)","text":"<p>Responsabilit\u00e9s : - Orchestration des cas d'usage - Validation des donn\u00e9es d'entr\u00e9e - Transformation Domain \u2194 DTO - Logique applicative (non m\u00e9tier)</p> <p>Composants : - <code>Services/</code> : ProductService, OrderService, UserService, etc. - <code>DTOs/</code> : Objets de transfert de donn\u00e9es - <code>Exceptions/</code> : ApplicationServiceException</p>"},{"location":"architecture/#domain-advanceddevsampledomain","title":"Domain (AdvancedDevSample.Domain)","text":"<p>Responsabilit\u00e9s : - Mod\u00e8le m\u00e9tier - R\u00e8gles de gestion fondamentales - Invariants m\u00e9tier - D\u00e9finition des contrats (interfaces)</p> <p>Composants : - <code>Entities/</code> : Product, Order, User, Supplier - <code>Interfaces/</code> : Contrats des repositories - <code>Exceptions/</code> : DomainException - <code>ValueObjects/</code> : Objets-valeurs immuables</p>"},{"location":"architecture/#infrastructure-advanceddevsampleinfrastructure","title":"Infrastructure (AdvancedDevSample.Infrastructure)","text":"<p>Responsabilit\u00e9s : - Impl\u00e9mentation de la persistance - Acc\u00e8s aux donn\u00e9es - Impl\u00e9mentation des interfaces du Domain</p> <p>Composants : - <code>Repositories/</code> : Impl\u00e9mentations des IRepository - <code>Entities/</code> : Mod\u00e8les de persistance (si diff\u00e9rents du Domain)</p>"},{"location":"architecture/#flux-de-donnees","title":"\ud83d\udd04 Flux de donn\u00e9es","text":""},{"location":"architecture/#requete-http-typique","title":"Requ\u00eate HTTP typique","text":"<pre><code>1. Controller (API)\n   \u2193 Re\u00e7oit la requ\u00eate HTTP\n   \u2193 Valide les donn\u00e9es d'entr\u00e9e\n\n2. Service (Application)\n   \u2193 Orchestre le cas d'usage\n   \u2193 Transforme DTO \u2192 Entit\u00e9 Domain\n\n3. Entit\u00e9 (Domain)\n   \u2193 Applique les r\u00e8gles m\u00e9tier\n   \u2193 Valide les invariants\n\n4. Repository (Infrastructure)\n   \u2193 Persiste les donn\u00e9es\n\n5. Service (Application)\n   \u2193 Transforme Entit\u00e9 \u2192 DTO\n\n6. Controller (API)\n   \u2193 Retourne la r\u00e9ponse HTTP\n</code></pre>"},{"location":"architecture/#avantages-de-cette-architecture","title":"\ud83d\udee1\ufe0f Avantages de cette architecture","text":""},{"location":"architecture/#testabilite","title":"Testabilit\u00e9","text":"<ul> <li>Chaque couche peut \u00eatre test\u00e9e ind\u00e9pendamment</li> <li>Facilite les tests unitaires</li> <li>137 tests unitaires dans le projet</li> </ul>"},{"location":"architecture/#maintenabilite","title":"Maintenabilit\u00e9","text":"<ul> <li>Code organis\u00e9 et pr\u00e9visible</li> <li>Facile \u00e0 naviguer et comprendre</li> <li>Modifications localis\u00e9es</li> </ul>"},{"location":"architecture/#flexibilite","title":"Flexibilit\u00e9","text":"<ul> <li>Changement de base de donn\u00e9es facile</li> <li>Remplacement de la couche API possible (CLI, gRPC, etc.)</li> <li>\u00c9volution du Domain ind\u00e9pendante</li> </ul>"},{"location":"architecture/#qualite","title":"Qualit\u00e9","text":"<ul> <li>Couplage faible entre les couches</li> <li>Coh\u00e9sion forte au sein de chaque couche</li> <li>Respect des principes SOLID</li> </ul>"},{"location":"architecture/#conventions-de-nommage","title":"\ud83d\udcdd Conventions de nommage","text":""},{"location":"architecture/#entites-domain","title":"Entit\u00e9s Domain","text":"<pre><code>public class Product { }\npublic class Order { }\n</code></pre>"},{"location":"architecture/#services-application","title":"Services Application","text":"<pre><code>public class ProductService { }\npublic class OrderService { }\n</code></pre>"},{"location":"architecture/#dtos","title":"DTOs","text":"<pre><code>public class CreateProductRequest { }\npublic class ProductResponse { }\n</code></pre>"},{"location":"architecture/#repositories","title":"Repositories","text":"<pre><code>public interface IProductRepository { }\npublic class EfProductRepository : IProductRepository { }\n</code></pre>"},{"location":"architecture/#injection-de-dependances","title":"\ud83d\udd17 Injection de d\u00e9pendances","text":"<p>Configuration dans <code>Program.cs</code> :</p> <pre><code>// Services Application\nbuilder.Services.AddScoped&lt;ProductService&gt;();\nbuilder.Services.AddScoped&lt;OrderService&gt;();\n\n// Repositories Infrastructure\nbuilder.Services.AddScoped&lt;IProductRepository, EfProductRepository&gt;();\nbuilder.Services.AddScoped&lt;IOrderRepository, EfOrderRepository&gt;();\n</code></pre>"},{"location":"architecture/#references","title":"\ud83c\udf93 R\u00e9f\u00e9rences","text":"<ul> <li>Clean Architecture - Robert C. Martin</li> <li>Domain-Driven Design - Eric Evans</li> <li>SOLID Principles</li> </ul>"},{"location":"domain/","title":"Couche Domain - Entit\u00e9s et r\u00e8gles m\u00e9tier","text":""},{"location":"domain/#vue-densemble","title":"\ud83d\udccb Vue d'ensemble","text":"<p>La couche Domain contient le c\u0153ur m\u00e9tier de l'application. Elle d\u00e9finit les entit\u00e9s, les r\u00e8gles de gestion et les invariants qui doivent toujours \u00eatre respect\u00e9s.</p>"},{"location":"domain/#principes","title":"\ud83c\udfaf Principes","text":"<ul> <li>Aucune d\u00e9pendance externe : Le Domain ne d\u00e9pend d'aucune autre couche</li> <li>R\u00e8gles m\u00e9tier encapsul\u00e9es : Toute la logique m\u00e9tier est dans les entit\u00e9s</li> <li>Invariants prot\u00e9g\u00e9s : Les propri\u00e9t\u00e9s sont <code>private set</code> pour garantir la coh\u00e9rence</li> <li>Exceptions m\u00e9tier : Utilisation de <code>DomainException</code> pour les violations de r\u00e8gles</li> </ul>"},{"location":"domain/#entites","title":"\ud83d\udce6 Entit\u00e9s","text":""},{"location":"domain/#product-produit-du-catalogue","title":"Product - Produit du catalogue","text":"<p>Responsabilit\u00e9 : Gestion d'un produit du catalogue avec validation du prix.</p> <p>Propri\u00e9t\u00e9s : - <code>Id</code> : Identifiant unique - <code>Name</code> : Nom du produit - <code>Description</code> : Description d\u00e9taill\u00e9e - <code>Price</code> : Prix unitaire (doit \u00eatre &gt; 0) - <code>VATRate</code> : Taux de TVA (entre 0 et 100%) - <code>IsActive</code> : Statut actif/inactif - <code>SupplierId</code> : Lien vers le fournisseur (optionnel)</p> <p>Invariants m\u00e9tier : - Le prix doit toujours \u00eatre strictement positif - Le taux de TVA doit \u00eatre entre 0 et 100%</p> <p>M\u00e9thodes m\u00e9tier : - <code>UpdatePrice(decimal newPrice)</code> : Modifie le prix avec validation - <code>ApplyDiscount(decimal percentage)</code> : Applique une r\u00e9duction - <code>ChangeIsActive(bool newState)</code> : Active/d\u00e9sactive le produit - <code>AssignSupplier(Guid supplierId)</code> : Associe un fournisseur - <code>RemoveSupplier()</code> : Retire le fournisseur</p>"},{"location":"domain/#order-commande-client","title":"Order - Commande client","text":"<p>Responsabilit\u00e9 : Gestion du cycle de vie d'une commande avec machine \u00e0 \u00e9tats.</p> <p>Propri\u00e9t\u00e9s : - <code>Id</code> : Identifiant unique - <code>OrderNumber</code> : Num\u00e9ro de commande g\u00e9n\u00e9r\u00e9 - <code>OrderDate</code> : Date de cr\u00e9ation - <code>CustomerId</code> : Identifiant du client - <code>TotalAmountExcludingTax</code> : Montant HT - <code>TotalAmountIncludingTax</code> : Montant TTC - <code>Status</code> : Statut de la commande - <code>DeliveryAddress</code> : Adresse de livraison - <code>Notes</code> : Notes compl\u00e9mentaires</p> <p>Statuts possibles : <pre><code>public enum OrderStatus\n{\n    Pending,    // En attente\n    Confirmed,  // Confirm\u00e9e\n    Shipped,    // Exp\u00e9di\u00e9e\n    Delivered,  // Livr\u00e9e\n    Cancelled   // Annul\u00e9e\n}\n</code></pre></p> <p>Machine \u00e0 \u00e9tats - Transitions autoris\u00e9es : <pre><code>Pending \u2192 Confirmed \u2192 Shipped \u2192 Delivered\n    \u2193\nCancelled (uniquement si non exp\u00e9di\u00e9e)\n</code></pre></p> <p>Invariants m\u00e9tier : - Une commande doit avoir un client - Une commande doit avoir une adresse de livraison - Le montant TTC doit \u00eatre \u2265 montant HT - Les transitions de statut doivent respecter le workflow</p> <p>M\u00e9thodes m\u00e9tier : - <code>Confirm()</code> : Pending \u2192 Confirmed (si montant &gt; 0) - <code>Ship()</code> : Confirmed \u2192 Shipped - <code>Deliver()</code> : Shipped \u2192 Delivered - <code>Cancel()</code> : Annulation (impossible si exp\u00e9di\u00e9e ou livr\u00e9e) - <code>UpdateTotals(decimal ht, decimal ttc)</code> : Mise \u00e0 jour des montants - <code>UpdateDeliveryAddress(string address)</code> : Modifie l'adresse (si non exp\u00e9di\u00e9e)</p>"},{"location":"domain/#user-utilisateur-du-systeme","title":"User - Utilisateur du syst\u00e8me","text":"<p>Responsabilit\u00e9 : Gestion d'un utilisateur avec authentification.</p> <p>Propri\u00e9t\u00e9s : - <code>Id</code> : Identifiant unique - <code>Username</code> : Nom d'utilisateur unique - <code>Email</code> : Adresse email - <code>FirstName</code> : Pr\u00e9nom - <code>LastName</code> : Nom de famille - <code>Role</code> : R\u00f4le (Student, Admin, User) - <code>IsActive</code> : Compte actif/inactif - <code>PasswordHash</code> : Hash BCrypt du mot de passe</p> <p>Propri\u00e9t\u00e9 calcul\u00e9e : - <code>FullName</code> : Retourne <code>FirstName + \" \" + LastName</code></p> <p>Invariants m\u00e9tier : - Le username est obligatoire - L'email est obligatoire et doit contenir \"@\" - Le pr\u00e9nom et le nom sont obligatoires - Le r\u00f4le est obligatoire (par d\u00e9faut \"User\")</p> <p>M\u00e9thodes m\u00e9tier : - <code>UpdateInfo(username, email, firstName, lastName)</code> : Mise \u00e0 jour des informations - <code>ChangeRole(string newRole)</code> : Modifie le r\u00f4le - <code>SetActive(bool isActive)</code> : Active/d\u00e9sactive le compte - <code>SetPassword(string passwordHash)</code> : D\u00e9finit le hash du mot de passe</p>"},{"location":"domain/#supplier-fournisseur","title":"Supplier - Fournisseur","text":"<p>Responsabilit\u00e9 : Gestion d'un fournisseur avec validation des coordonn\u00e9es.</p> <p>Propri\u00e9t\u00e9s : - <code>Id</code> : Identifiant unique - <code>Name</code> : Nom du fournisseur - <code>Email</code> : Adresse email - <code>PhoneNumber</code> : Num\u00e9ro de t\u00e9l\u00e9phone - <code>Address</code> : Adresse postale - <code>IsActive</code> : Statut actif/inactif</p> <p>Invariants m\u00e9tier : - Le nom est obligatoire - L'email est obligatoire et doit contenir \"@\"</p> <p>M\u00e9thodes m\u00e9tier : - <code>UpdateInfo(name, email, phone, address)</code> : Mise \u00e0 jour compl\u00e8te - <code>SetActive(bool isActive)</code> : Active/d\u00e9sactive le fournisseur</p>"},{"location":"domain/#refreshtoken-token-de-rafraichissement-jwt","title":"RefreshToken - Token de rafra\u00eechissement JWT","text":"<p>Responsabilit\u00e9 : Gestion des refresh tokens pour l'authentification JWT.</p> <p>Propri\u00e9t\u00e9s : - <code>Id</code> : Identifiant unique - <code>UserId</code> : Identifiant de l'utilisateur - <code>Token</code> : Token de rafra\u00eechissement - <code>ExpiresAt</code> : Date d'expiration - <code>CreatedAt</code> : Date de cr\u00e9ation - <code>RevokedAt</code> : Date de r\u00e9vocation (nullable) - <code>RevokedReason</code> : Raison de la r\u00e9vocation</p> <p>M\u00e9thodes m\u00e9tier : - <code>IsValid()</code> : V\u00e9rifie si le token est valide (non expir\u00e9 et non r\u00e9voqu\u00e9) - <code>Revoke(string reason)</code> : R\u00e9voque le token</p>"},{"location":"domain/#interfaces-des-repositories","title":"\ud83d\udd27 Interfaces des Repositories","text":"<p>Le Domain d\u00e9finit les contrats que l'Infrastructure doit impl\u00e9menter.</p>"},{"location":"domain/#iproductrepository","title":"IProductRepository","text":"<pre><code>public interface IProductRepository\n{\n    IEnumerable&lt;Product&gt; GetAll();\n    Product? GetByID(Guid id);\n    void Save(Product product);\n    void Delete(Guid id);\n}\n</code></pre>"},{"location":"domain/#iorderrepository","title":"IOrderRepository","text":"<pre><code>public interface IOrderRepository\n{\n    IEnumerable&lt;Order&gt; GetAll();\n    IEnumerable&lt;Order&gt; GetByCustomerId(Guid customerId);\n    Order? GetByID(Guid id);\n    void Save(Order order);\n    void Delete(Guid id);\n}\n</code></pre>"},{"location":"domain/#iuserrepository","title":"IUserRepository","text":"<pre><code>public interface IUserRepository\n{\n    IEnumerable&lt;User&gt; GetAll();\n    User? GetByID(Guid id);\n    User? GetByUsername(string username);\n    void Save(User user);\n    void Delete(Guid id);\n}\n</code></pre>"},{"location":"domain/#isupplierrepository","title":"ISupplierRepository","text":"<pre><code>public interface ISupplierRepository\n{\n    IEnumerable&lt;Supplier&gt; GetAll();\n    Supplier? GetByID(Guid id);\n    void Save(Supplier supplier);\n    void Delete(Guid id);\n}\n</code></pre>"},{"location":"domain/#iauthrepository","title":"IAuthRepository","text":"<pre><code>public interface IAuthRepository\n{\n    User? GetUserByUsername(string username);\n    void SaveRefreshToken(RefreshToken refreshToken);\n    RefreshToken? GetRefreshToken(string token);\n    void SeedUser(string username, string password, string role);\n}\n</code></pre>"},{"location":"domain/#exceptions-metier","title":"\u26a0\ufe0f Exceptions m\u00e9tier","text":""},{"location":"domain/#domainexception","title":"DomainException","text":"<p>Utilis\u00e9e pour signaler une violation de r\u00e8gle m\u00e9tier.</p> <pre><code>public class DomainException : Exception\n{\n    public DomainException(string message) : base(message) { }\n}\n</code></pre> <p>Exemples d'utilisation : - Prix n\u00e9gatif ou nul - Email invalide - Transition de statut non autoris\u00e9e - Donn\u00e9es obligatoires manquantes</p>"},{"location":"domain/#bonnes-pratiques-appliquees","title":"\ud83c\udfaf Bonnes pratiques appliqu\u00e9es","text":""},{"location":"domain/#1-encapsulation","title":"1. Encapsulation","text":"<p>Les propri\u00e9t\u00e9s sont <code>private set</code> pour emp\u00eacher les modifications directes.</p> <pre><code>public decimal Price { get; private set; }\n</code></pre>"},{"location":"domain/#2-constructeurs-validants","title":"2. Constructeurs validants","text":"<p>Tous les constructeurs valident les invariants.</p> <pre><code>public Product(Guid id, decimal price)\n{\n    if (price &lt;= 0)\n        throw new DomainException(\"Le prix doit \u00eatre strictement positif.\");\n\n    Id = id;\n    Price = price;\n}\n</code></pre>"},{"location":"domain/#3-methodes-metier-explicites","title":"3. M\u00e9thodes m\u00e9tier explicites","text":"<p>Les modifications passent par des m\u00e9thodes m\u00e9tier nomm\u00e9es.</p> <pre><code>public void UpdatePrice(decimal newPrice)\n{\n    if (newPrice &lt;= 0)\n        throw new DomainException(\"Le prix doit \u00eatre strictement positif.\");\n\n    Price = newPrice;\n}\n</code></pre>"},{"location":"domain/#4-immutabilite-des-value-objects","title":"4. Immutabilit\u00e9 des Value Objects","text":"<p>Les objets-valeurs sont immuables (cr\u00e9ation par constructeur uniquement).</p>"},{"location":"domain/#diagramme-de-classes-simplifie","title":"\ud83d\udcca Diagramme de classes simplifi\u00e9","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Product   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 - Id        \u2502\n\u2502 - Price     \u2502\n\u2502 - Name      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 0..1\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Supplier   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 - Id        \u2502\n\u2502 - Name      \u2502\n\u2502 - Email     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Order    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2502    User     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 n  1 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 - Id        \u2502      \u2502 - Id        \u2502\n\u2502 - Status    \u2502      \u2502 - Username  \u2502\n\u2502 - Total     \u2502      \u2502 - Role      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"domain/#tests","title":"\ud83e\uddea Tests","text":"<p>Tous les invariants et r\u00e8gles m\u00e9tier sont couverts par des tests unitaires :</p> <ul> <li><code>ProductTests.cs</code> : 20+ tests</li> <li><code>OrderTests.cs</code> : 30+ tests  </li> <li><code>UserTests.cs</code> : 15+ tests</li> <li><code>SupplierTests.cs</code> : 15+ tests</li> </ul> <p>Exemple de test : <pre><code>[Fact]\npublic void UpdatePrice_Should_Throw_Exception_When_Price_Is_Negative()\n{\n    var product = new Product(Guid.NewGuid(), 100, true);\n\n    var exception = Assert.Throws&lt;DomainException&gt;(() \n        =&gt; product.UpdatePrice(-50));\n\n    Assert.Equal(\"Le prix doit \u00eatre strictement positif.\", exception.Message);\n}\n</code></pre></p>"},{"location":"infrastructure/","title":"Couche Infrastructure - Persistance et Repositories","text":""},{"location":"infrastructure/#vue-densemble","title":"\ud83d\udccb Vue d'ensemble","text":"<p>La couche Infrastructure impl\u00e9mente la persistance des donn\u00e9es et les interfaces d\u00e9finies par le Domain. Elle utilise le pattern Repository pour abstraire l'acc\u00e8s aux donn\u00e9es.</p>"},{"location":"infrastructure/#responsabilites","title":"\ud83c\udfaf Responsabilit\u00e9s","text":"<ul> <li>Impl\u00e9mentation des repositories : Concr\u00e9tisation des interfaces du Domain</li> <li>Persistance des donn\u00e9es : Stockage et r\u00e9cup\u00e9ration</li> <li>Gestion des collections : InMemory pour d\u00e9mo/tests</li> <li>Hachage des mots de passe : BCrypt pour s\u00e9curit\u00e9</li> </ul>"},{"location":"infrastructure/#strategie-de-persistance","title":"\ud83d\uddc4\ufe0f Strat\u00e9gie de persistance","text":""},{"location":"infrastructure/#inmemory-storage","title":"InMemory Storage","text":"<p>Pour ce projet de d\u00e9monstration, les donn\u00e9es sont stock\u00e9es en m\u00e9moire (InMemory).</p> <p>Avantages : - Pas de d\u00e9pendance \u00e0 une base de donn\u00e9es - Facilite les tests et la d\u00e9monstration - Simplicit\u00e9 de configuration</p> <p>Donn\u00e9es pr\u00e9-charg\u00e9es (Seed) : - Utilisateur demo / demo123 (r\u00f4le Student) - Utilisateur admin / admin123 (r\u00f4le Admin)</p>"},{"location":"infrastructure/#migration-vers-entity-framework","title":"Migration vers Entity Framework","text":"<p>La structure permet facilement de migrer vers Entity Framework Core :</p> <ol> <li>Remplacer <code>InMemoryRepository</code> par <code>EfRepository</code></li> <li>Ajouter un DbContext</li> <li>Configurer la connexion dans appsettings.json</li> </ol> <p>Exemple de DbContext (pr\u00e9vu) : <pre><code>public class AppDbContext : DbContext\n{\n    public DbSet&lt;Product&gt; Products { get; set; }\n    public DbSet&lt;Order&gt; Orders { get; set; }\n    public DbSet&lt;User&gt; Users { get; set; }\n    public DbSet&lt;Supplier&gt; Suppliers { get; set; }\n    public DbSet&lt;RefreshToken&gt; RefreshTokens { get; set; }\n}\n</code></pre></p>"},{"location":"infrastructure/#repositories","title":"\ud83d\udce6 Repositories","text":""},{"location":"infrastructure/#pattern-repository","title":"Pattern Repository","text":"<p>Principe : Abstraction de la persistance des donn\u00e9es.</p> <p>Interface (Domain) : <pre><code>public interface IProductRepository\n{\n    IEnumerable&lt;Product&gt; GetAll();\n    Product? GetByID(Guid id);\n    void Save(Product product);\n    void Delete(Guid id);\n}\n</code></pre></p> <p>Impl\u00e9mentation (Infrastructure) : <pre><code>public class EfProductRepository : IProductRepository\n{\n    private readonly List&lt;Product&gt; _products = new();\n\n    public IEnumerable&lt;Product&gt; GetAll() =&gt; _products;\n\n    public Product? GetByID(Guid id) =&gt; _products.FirstOrDefault(p =&gt; p.Id == id);\n\n    public void Save(Product product)\n    {\n        var existing = GetByID(product.Id);\n        if (existing != null)\n            _products.Remove(existing);\n        _products.Add(product);\n    }\n\n    public void Delete(Guid id)\n    {\n        var product = GetByID(id);\n        if (product != null)\n            _products.Remove(product);\n    }\n}\n</code></pre></p>"},{"location":"infrastructure/#efproductrepository","title":"EfProductRepository","text":"<p>Responsabilit\u00e9 : Persistance des produits.</p> <p>M\u00e9thodes : - <code>GetAll()</code> : R\u00e9cup\u00e8re tous les produits - <code>GetByID(Guid id)</code> : R\u00e9cup\u00e8re un produit par ID - <code>Save(Product product)</code> : Cr\u00e9e ou met \u00e0 jour un produit - <code>Delete(Guid id)</code> : Supprime un produit (hard delete)</p> <p>Stockage : Liste InMemory <code>List&lt;Product&gt;</code></p>"},{"location":"infrastructure/#eforderrepository","title":"EfOrderRepository","text":"<p>Responsabilit\u00e9 : Persistance des commandes.</p> <p>M\u00e9thodes sp\u00e9cifiques : - <code>GetByCustomerId(Guid customerId)</code> : R\u00e9cup\u00e8re les commandes d'un client - <code>GetAll()</code> : R\u00e9cup\u00e8re toutes les commandes - <code>GetByID(Guid id)</code> : R\u00e9cup\u00e8re une commande par ID - <code>Save(Order order)</code> : Cr\u00e9e ou met \u00e0 jour une commande - <code>Delete(Guid id)</code> : Supprime une commande</p> <p>Stockage : Liste InMemory <code>List&lt;Order&gt;</code></p> <p>Particularit\u00e9 : Filtrage par client avec <code>GetByCustomerId()</code>.</p>"},{"location":"infrastructure/#efuserrepository","title":"EfUserRepository","text":"<p>Responsabilit\u00e9 : Persistance des utilisateurs.</p> <p>M\u00e9thodes sp\u00e9cifiques : - <code>GetByUsername(string username)</code> : R\u00e9cup\u00e8re un utilisateur par username - <code>GetAll()</code> : R\u00e9cup\u00e8re tous les utilisateurs - <code>GetByID(Guid id)</code> : R\u00e9cup\u00e8re un utilisateur par ID - <code>Save(User user)</code> : Cr\u00e9e ou met \u00e0 jour un utilisateur - <code>Delete(Guid id)</code> : Supprime un utilisateur</p> <p>Stockage : Liste InMemory <code>List&lt;User&gt;</code></p> <p>Particularit\u00e9 : Recherche par username pour l'authentification.</p>"},{"location":"infrastructure/#efsupplierrepository","title":"EfSupplierRepository","text":"<p>Responsabilit\u00e9 : Persistance des fournisseurs.</p> <p>M\u00e9thodes : - <code>GetAll()</code> : R\u00e9cup\u00e8re tous les fournisseurs - <code>GetByID(Guid id)</code> : R\u00e9cup\u00e8re un fournisseur par ID - <code>Save(Supplier supplier)</code> : Cr\u00e9e ou met \u00e0 jour un fournisseur - <code>Delete(Guid id)</code> : Supprime un fournisseur</p> <p>Stockage : Liste InMemory <code>List&lt;Supplier&gt;</code></p>"},{"location":"infrastructure/#authrepository","title":"AuthRepository","text":"<p>Responsabilit\u00e9 : Authentification et gestion des refresh tokens.</p> <p>M\u00e9thodes :</p>"},{"location":"infrastructure/#getuserbyusernamestring-username-user","title":"<code>GetUserByUsername(string username) : User?</code>","text":"<p>R\u00e9cup\u00e8re un utilisateur pour authentification.</p>"},{"location":"infrastructure/#saverefreshtokenrefreshtoken-token-void","title":"<code>SaveRefreshToken(RefreshToken token) : void</code>","text":"<p>Sauvegarde un refresh token (cr\u00e9ation ou r\u00e9vocation).</p> <p>Stockage : Liste InMemory <code>List&lt;RefreshToken&gt;</code></p>"},{"location":"infrastructure/#getrefreshtokenstring-token-refreshtoken","title":"<code>GetRefreshToken(string token) : RefreshToken?</code>","text":"<p>R\u00e9cup\u00e8re un refresh token pour validation.</p>"},{"location":"infrastructure/#seeduserstring-username-string-password-string-role-void","title":"<code>SeedUser(string username, string password, string role) : void</code>","text":"<p>Cr\u00e9e un utilisateur de d\u00e9monstration avec mot de passe hach\u00e9.</p> <p>Processus : 1. V\u00e9rifie si l'utilisateur existe d\u00e9j\u00e0 2. Hash le mot de passe avec BCrypt 3. Cr\u00e9e l'utilisateur avec le hash 4. Sauvegarde dans le repository</p> <p>Exemple d'utilisation (Program.cs) : <pre><code>authRepo.SeedUser(\"demo\", \"demo123\", \"Student\");\nauthRepo.SeedUser(\"admin\", \"admin123\", \"Admin\");\n</code></pre></p>"},{"location":"infrastructure/#securite","title":"\ud83d\udd10 S\u00e9curit\u00e9","text":""},{"location":"infrastructure/#hachage-des-mots-de-passe-avec-bcrypt","title":"Hachage des mots de passe avec BCrypt","text":"<p>Librairie : <code>BCrypt.Net-Next</code></p> <p>Hachage : <pre><code>var passwordHash = BCrypt.Net.BCrypt.HashPassword(password);\nuser.SetPassword(passwordHash);\n</code></pre></p> <p>V\u00e9rification : <pre><code>bool isValid = BCrypt.Net.BCrypt.Verify(password, user.PasswordHash);\n</code></pre></p> <p>Avantages de BCrypt : - Algorithme s\u00e9curis\u00e9 et \u00e9prouv\u00e9 - R\u00e9sistant au brute force (slow hashing) - Salt automatique inclus - Cost factor configurable</p> <p>Configuration par d\u00e9faut : Cost factor = 11 (recommand\u00e9)</p>"},{"location":"infrastructure/#enregistrement-des-dependances","title":"\ud83d\udd04 Enregistrement des d\u00e9pendances","text":"<p>Configuration dans Program.cs :</p> <pre><code>// Repositories Infrastructure\nbuilder.Services.AddScoped&lt;IAuthRepository, AuthRepository&gt;();\nbuilder.Services.AddScoped&lt;IProductRepository, EfProductRepository&gt;();\nbuilder.Services.AddScoped&lt;ISupplierRepository, EfSupplierRepository&gt;();\nbuilder.Services.AddScoped&lt;IUserRepository, EfUserRepository&gt;();\nbuilder.Services.AddScoped&lt;IOrderRepository, EfOrderRepository&gt;();\n</code></pre> <p>Cycle de vie : <code>Scoped</code> (une instance par requ\u00eate HTTP)</p>"},{"location":"infrastructure/#modeles-de-persistance","title":"\ud83d\udcca Mod\u00e8les de persistance","text":""},{"location":"infrastructure/#productentity-exemple-pour-ef-core","title":"ProductEntity (exemple pour EF Core)","text":"<p>Actuellement non utilis\u00e9 (InMemory utilise directement les entit\u00e9s Domain).</p> <p>Pour une migration vers EF Core, on pourrait cr\u00e9er :</p> <pre><code>public class ProductEntity\n{\n    public Guid Id { get; set; }\n    public string Name { get; set; }\n    public string Description { get; set; }\n    public decimal Price { get; set; }\n    public decimal VATRate { get; set; }\n    public bool IsActive { get; set; }\n    public Guid? SupplierId { get; set; }\n\n    // Navigation properties\n    public SupplierEntity? Supplier { get; set; }\n}\n</code></pre> <p>Mapping : <code>ProductEntity</code> \u2194 <code>Product</code> (Domain)</p>"},{"location":"infrastructure/#bonnes-pratiques-appliquees","title":"\ud83c\udfaf Bonnes pratiques appliqu\u00e9es","text":""},{"location":"infrastructure/#1-inversion-de-dependances","title":"1. Inversion de d\u00e9pendances","text":"<ul> <li>Domain d\u00e9finit les interfaces</li> <li>Infrastructure impl\u00e9mente les interfaces</li> <li>D\u00e9pendance invers\u00e9e : Domain \u2190 Infrastructure</li> </ul>"},{"location":"infrastructure/#2-separation-des-preoccupations","title":"2. S\u00e9paration des pr\u00e9occupations","text":"<ul> <li>Logique m\u00e9tier dans Domain</li> <li>Logique de persistance dans Infrastructure</li> </ul>"},{"location":"infrastructure/#3-testabilite","title":"3. Testabilit\u00e9","text":"<ul> <li>Repositories facilement mockables</li> <li>Fake repositories pour tests (InMemory)</li> </ul>"},{"location":"infrastructure/#4-flexibilite","title":"4. Flexibilit\u00e9","text":"<ul> <li>Changement de strat\u00e9gie de persistance sans impact sur Domain/Application</li> <li>Migration InMemory \u2192 SQL Server facile</li> </ul>"},{"location":"infrastructure/#5-securite","title":"5. S\u00e9curit\u00e9","text":"<ul> <li>Mots de passe toujours hach\u00e9s avec BCrypt</li> <li>Jamais de stockage en clair</li> </ul>"},{"location":"infrastructure/#fake-repositories-pour-tests","title":"\ud83e\uddea Fake Repositories pour tests","text":"<p>Utilisation dans les tests unitaires :</p> <pre><code>public class FakeProductRepository : IProductRepository\n{\n    private readonly List&lt;Product&gt; _products = new();\n\n    public IEnumerable&lt;Product&gt; GetAll() =&gt; _products;\n\n    public Product? GetByID(Guid id) =&gt; _products.FirstOrDefault(p =&gt; p.Id == id);\n\n    public void Save(Product product)\n    {\n        var existing = GetByID(product.Id);\n        if (existing != null)\n            _products.Remove(existing);\n        _products.Add(product);\n    }\n\n    public void Delete(Guid id)\n    {\n        var product = GetByID(id);\n        if (product != null)\n            _products.Remove(product);\n    }\n}\n</code></pre> <p>Avantage : Isolation compl\u00e8te des tests, pas de d\u00e9pendance externe.</p>"},{"location":"infrastructure/#evolution-future","title":"\ud83d\udcc8 \u00c9volution future","text":""},{"location":"infrastructure/#migration-vers-sql-server","title":"Migration vers SQL Server","text":"<p>\u00c9tapes :</p> <ol> <li> <p>Installer le package EF Core <pre><code>dotnet add package Microsoft.EntityFrameworkCore.SqlServer\n</code></pre></p> </li> <li> <p>Cr\u00e9er un DbContext <pre><code>public class AppDbContext : DbContext\n{\n    public AppDbContext(DbContextOptions&lt;AppDbContext&gt; options) \n        : base(options) { }\n\n    public DbSet&lt;Product&gt; Products { get; set; }\n    public DbSet&lt;Order&gt; Orders { get; set; }\n    // ...\n}\n</code></pre></p> </li> <li> <p>Configurer la connexion <pre><code>{\n  \"ConnectionStrings\": {\n    \"DefaultConnection\": \"Server=.;Database=AdvancedDevSample;Trusted_Connection=True;\"\n  }\n}\n</code></pre></p> </li> <li> <p>Enregistrer le DbContext <pre><code>builder.Services.AddDbContext&lt;AppDbContext&gt;(options =&gt;\n    options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\")));\n</code></pre></p> </li> <li> <p>Cr\u00e9er les migrations <pre><code>dotnet ef migrations add InitialCreate\ndotnet ef database update\n</code></pre></p> </li> </ol>"},{"location":"infrastructure/#audit-et-historique","title":"Audit et historique","text":"<p>Ajouter des propri\u00e9t\u00e9s d'audit : - <code>CreatedAt</code> : Date de cr\u00e9ation - <code>CreatedBy</code> : Utilisateur cr\u00e9ateur - <code>ModifiedAt</code> : Date de derni\u00e8re modification - <code>ModifiedBy</code> : Utilisateur modificateur</p>"},{"location":"infrastructure/#soft-delete-global","title":"Soft Delete global","text":"<p>Impl\u00e9menter un filtre global pour les suppressions logiques : <pre><code>modelBuilder.Entity&lt;Product&gt;().HasQueryFilter(p =&gt; !p.IsDeleted);\n</code></pre></p>"}]}